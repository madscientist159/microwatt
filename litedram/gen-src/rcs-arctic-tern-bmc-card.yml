# (c) 2022 Raptor Engineering, LLC
#
# NOTE
# Arctic Tern uses two separate clock lines, one for each DRAM device,
# for signal integrity and design flexibility.
#
# Unfortunately, LiteDRAM has no idea how to handle that in standalone
# generator mode.  The files can be generated by modifying (hacking up)
# litedram/gen.py and manually overriding the clock line counts...
#                Subsignal("clk_p",   Pins(2*core_config["sdram_rank_nb"])),
#                Subsignal("clk_n",   Pins(2*core_config["sdram_rank_nb"])),

{
    "cpu":        "None",  # CPU type (ex vexriscv, serv, None)
    "device": "LFE5U-85F-8CABGA381",
    "memtype":    "DDR3",      # DRAM type

    "sdram_module":    "MT41J256M16", # SDRAM modules of the board or SO-DIMM
    "sdram_module_nb": 4,             # Number of byte groups
    "sdram_rank_nb":   1,             # Number of ranks
    "sdram_phy":       "ECP5DDRPHY",    # Type of FPGA PHY

    # Electrical ---------------------------------------------------------------
    "rtt_nom": "disabled",  # Nominal termination. ("disabled" from LiteX)
    "rtt_wr":  "60ohm",  # Write termination. (Default)
    "ron":     "34ohm",  # Output driver impedance. (Default)

    # Frequency ----------------------------------------------------------------
    "init_clk_freq":   24e6,
    "input_clk_freq":   125e6, # Input clock frequency
    "sys_clk_freq":     48e6,  # System clock frequency (DDR_clk = 4 x sys_clk)

    # 0 if freq >64e6 else 100. https://github.com/enjoy-digital/litedram/issues/130
    "cmd_delay": 100,

    # Core ---------------------------------------------------------------------
    "cmd_buffer_depth": 16,    # Depth of the command buffer

    "dm_swap": true,

    # User Ports ---------------------------------------------------------------
    "user_ports": {
        "native_0": {
            "type": "native",
            "block_until_ready": False,
        },
    },
}
